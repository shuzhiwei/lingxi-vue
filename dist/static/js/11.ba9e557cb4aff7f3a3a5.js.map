{"version":3,"sources":["webpack:///src/views/EditBlog.vue","webpack:///./src/views/EditBlog.vue?304f","webpack:///./src/views/EditBlog.vue"],"names":["EditBlog","inject","data","title","content","imageAddr","image","imageAddrs","delImageAddrs","defaultImg","__webpack_require__","dialogImageUrl","dialogVisible","fileList","form","images1","radio","mounted","_this","this","id","$route","params","token","Object","cookie","url","$store","state","base_url","axios_default","a","get","then","response","res","code","console","log","username","acs","reload","share_flag","tmp","aa_url","split","indexOf","i","length","push","pop","$message","error","methods","deleteCurPhoto","index","splice","deletePrePhoto","openFile","document","getElementById","click","showRealPath","_this2","files","_loop","name","reader","FileReader","readAsDataURL","onload","result","postCancel","$router","path","postEntry","_this3","load","$loading","lock","text","spinner","background","url1","cur_images","del_images","_i","curImageAddrs","post","lib_default","stringify","newImages","_i2","params1","catch","params2","close","message","go","views_EditBlog","render","_vm","_h","$createElement","_c","_self","_m","directives","rawName","value","expression","attrs","size","type","domProps","on","input","$event","target","composing","_v","cols","rows","staticClass","src","alt","onerror","_l","item","key","staticStyle","margin-left","label","model","callback","$$v","$set","align","round","display","multiple","change","staticRenderFns","for","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/11.ba9e557cb4aff7f3a3a5.js","sourcesContent":["<template>\r\n    <div>\r\n        <table>\r\n        <tr><th><label for=\"title\">标题:</label></th><td><input id=\"title\" name=\"title\" size=\"30\" type=\"text\" v-model=\"title\"/></td></tr>\r\n        <tr><th><label for=\"content\">内容:</label></th><td><textarea cols=\"80\" id=\"content\" name=\"content\" rows=\"10\" v-model=\"content\"></textarea></td></tr>\r\n        \r\n        <tr><th><label for=\"content\">当前图片:</label></th><td>\r\n            \r\n        <div v-if=\"imageAddr\">\r\n            <div class=\"img-box\">\r\n            <img class=\"myimage\" :src=\"imageAddr\" alt=\"logo\" :onerror=\"defaultImg\">\r\n            <div class=\"del-icon\" @click=\"deleteCurPhoto(index)\"></div>\r\n            </div>\r\n        </div>\r\n        <div v-else>\r\n        <span v-for=\"(item, index) in imageAddrs\" :key=\"index\">\r\n            <div class=\"img-box\">\r\n            <img class=\"myimage\" :src=\"item\" alt=\"\"  :onerror=\"defaultImg\">\r\n            <div class=\"del-icon\" @click=\"deleteCurPhoto(index)\"></div>\r\n            </div>\r\n        </span>\r\n        </div>\r\n            </td></tr>\r\n\r\n        <tr><th><label for=\"content\">是否公开:</label></th>\r\n        <td>\r\n            <el-radio style=\"margin-left: 10px\" v-model=\"form.radio\" :label=\"1\">公开</el-radio>\r\n            <el-radio v-model=\"form.radio\" :label=\"0\">不公开</el-radio>\r\n        </td></tr>\r\n\r\n        <br>\r\n        <tr><th><label for=\"addOther\">添加图片</label></th>\r\n            <td>\r\n                <span align=\"left\">\r\n                <el-button type=\"primary\" v-on:click=\"openFile()\" round>选择文件</el-button>\r\n                <input type=\"file\" id=\"filename\" style=\"display:none\" multiple=\"multiple\" @change=\"showRealPath\"/>\r\n                </span>\r\n                <br>\r\n\r\n                <span v-for=\"(item, index) in form.images1\" :key=\"index\">\r\n                    <!-- <img style=\"height:100px;weight:100px;\" :src=\"item.image\" alt=\"\"> -->\r\n\r\n                        <div class=\"img-box\">\r\n                        <img class=\"myimage\" :src=\"item.image\" alt=\"\">\r\n                        <div class=\"del-icon\" @click=\"deletePrePhoto(index)\"></div>\r\n                    </div>\r\n\r\n                </span>\r\n            </td>\r\n        </tr>\r\n        <tr><th><label for=\"Post entry\"></label></th>\r\n            <td>\r\n                <br>\r\n                <!-- <button id=\"Post entry\" name=\"Post entry\" value=\"\" @click=\"postEntry\">Post entry</button> -->\r\n                <el-button type=\"info\" @click=\"postCancel\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"postEntry\">提 交</el-button>\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    <br><br>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import {setCookie,getCookie} from '../../static/js/cookie.js'\r\n    import {refresh_token} from '../../static/js/acs.js'\r\n    import axios from 'axios'\r\n    import qs from 'qs'\r\n    export default {\r\n        inject: ['reload'],\r\n        data () {\r\n            return {\r\n                title: '',\r\n                content: '',\r\n                imageAddr: '',\r\n                // radioFlag: '0',\r\n                image: '',\r\n                imageAddrs: [],\r\n                delImageAddrs: [],\r\n                defaultImg: 'this.src=\"' + require('../../static/img/default.png') + '\"',\r\n\r\n                dialogImageUrl: '',\r\n                dialogVisible: false,\r\n                fileList: [],\r\n                form: {\r\n                    images1: [],\r\n                    radio: 0,\r\n                }\r\n            }\r\n        },\r\n\r\n        mounted () {\r\n            let id = this.$route.params.id\r\n            let token = getCookie('lingxi-token')\r\n            let url = this.$store.state.base_url + `/lingxis/view/${id}?token=${token}`\r\n            axios.get(url).then(response =>{\r\n                const res = response.data\r\n                const code = res.code\r\n                console.log(code)\r\n\r\n                if (code === 402) {\r\n                    const username = getCookie('username')\r\n                    refresh_token(username, token)\r\n                    this.reload()\r\n                }else if (code === 200) {\r\n                    this.title = res.data.title\r\n                    this.content = res.data.content\r\n                    this.form.radio = res.data.share_flag\r\n                    var tmp = res.data.imageAddr\r\n                    var aa_url = res.data.imageAddr.split('helloworld')\r\n                    if (tmp.indexOf('helloworld') !== -1) {\r\n                        for (let i=0; i<aa_url.length; i++){\r\n                            this.imageAddrs.push(aa_url[i])\r\n                        }\r\n                        this.imageAddrs.pop()\r\n                    }else{\r\n                        this.imageAddr = res.data.imageAddr\r\n                    }\r\n                }else{\r\n                    console.log(code)\r\n                    this.$message.error('无acs权限！')\r\n                }\r\n            })\r\n        },\r\n\r\n        methods: {\r\n\r\n            deleteCurPhoto(index) {\r\n                this.delImageAddrs.push(this.imageAddrs[index])\r\n                this.imageAddrs.splice(index, 1)\r\n            },\r\n\r\n            deletePrePhoto (index) {\r\n                this.form.images1.splice(index, 1)\r\n            },\r\n\r\n            openFile: function () {\r\n                document.getElementById('filename').click()\r\n            },\r\n            showRealPath: function () {\r\n                var files = document.getElementById('filename').files\r\n                \r\n                for (let i = 0; i < files.length; i++) {\r\n                    let name = files[i].name\r\n                    let reader = new FileReader();\r\n                    reader.readAsDataURL(files[i])\r\n                    reader.onload = ()=>{\r\n                        var image = reader.result\r\n                        this.form.images1.push({'name': name, 'image': image})\r\n                    }\r\n                }\r\n            },\r\n\r\n\r\n            postCancel () {\r\n                this.$router.push({path: '/main/home'})\r\n            },\r\n\r\n            postEntry () {\r\n                // 点击即呈现新建中\r\n                // this.form.newCreating = true\r\n                const load = this.$loading({\r\n                    lock: true,\r\n                    text: 'Loading',\r\n                    spinner: 'el-icon-loading',\r\n                    background: 'rgba(0, 0, 0, 0.7)'\r\n                });\r\n                console.log('hello123')\r\n                const token = getCookie('lingxi-token')\r\n                const id = this.$route.params.id\r\n                const url = this.$store.state.base_url + `/lingxis/blog/edit/${id}`\r\n                const url1 = this.$store.state.base_url + `/lingxis/blog/editAddPhoto/${id}`\r\n                var cur_images = ''\r\n                for (let i=0; i<this.imageAddrs.length; i++) {\r\n                    cur_images = cur_images + this.imageAddrs[i] + 'helloworld'\r\n                }\r\n\r\n                var del_images = ''\r\n                for (let i=0; i<this.delImageAddrs.length; i++) {\r\n                    del_images = del_images + this.delImageAddrs[i] + 'helloworld'\r\n                }\r\n\r\n                const params = {\r\n                    'token': token,\r\n                    'title': this.title,\r\n                    'content': this.content,\r\n                    'share_flag': this.form.radio,\r\n                    'curImageAddrs': cur_images,\r\n                    'delImageAddrs': del_images,\r\n                }\r\n                axios.post(url, qs.stringify(params)).then(response => {\r\n                    const res = response.data\r\n                    if (res.code === 200) {\r\n                        var newImages = ''\r\n                        for (let i=0; i<this.form.images1.length; i++) {\r\n                            newImages = newImages + this.form.images1[i].image + 'helloworld'\r\n                            if (newImages.length > 1024*1024*10) {\r\n                                console.log(i)\r\n                                let params1 = {\r\n                                    'token': token,\r\n                                    'image': newImages\r\n                                }\r\n                                axios.post(url1, qs.stringify(params1)).then(response => {\r\n                                    let res = response.data\r\n                                    if (res.code !== 200) {\r\n                                        this.$message.error(res.code)\r\n                                    }\r\n                                }).catch(error =>{\r\n                                    this.$message.error(error)\r\n                                })\r\n                                newImages = ''\r\n                            }\r\n                        }\r\n                        if (newImages) {\r\n                            let params2 = {\r\n                                'token': token,\r\n                                'image': newImages\r\n                            }\r\n                            axios.post(url1, qs.stringify(params2)).then(response => {\r\n                                let res = response.data\r\n                                if (res.code !== 200) {\r\n                                    this.$message.error(res.code)\r\n                                }\r\n                            }).catch(error =>{\r\n                                this.$message.error(error)\r\n                            })\r\n                        }\r\n                        load.close();\r\n                    }else{\r\n                        this.$message.error(res.code)\r\n                        console.log(res.message)\r\n                        load.close();\r\n                    }\r\n                }).catch(error =>{\r\n                    this.$message.error(error)\r\n                })\r\n                \r\n                this.$router.push({path: '/main/home'})\r\n                // 解决跳转页面后不刷新数据的问题\r\n                this.$router.go(0)\r\n\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n.img-box {\r\n            margin: 10px;\r\n            display: inline-block;\r\n            position: relative;\r\n        }\r\n\r\n        .myimage {\r\n            width: 80px;\r\n            height: 80px;\r\n        }\r\n\r\n        .del-icon {\r\n            position: absolute;\r\n            width: 15px;\r\n            height: 15px;\r\n            border: 1px solid red;\r\n            border-radius: 50%;\r\n            top: -13px;\r\n            right: -15px;\r\n            transform: rotate(45deg);\r\n\r\n        }\r\n\r\n        .del-icon::before {\r\n            display: block;\r\n            position: absolute;\r\n            content: \"\";\r\n            width: 10px;\r\n            height: 2px;\r\n            background-color: red;\r\n            top: 50%;\r\n            left: 50%;\r\n            transform: translate3d(-50%, -50%, 0);\r\n\r\n        }\r\n\r\n        .del-icon::after {\r\n            display: block;\r\n            position: absolute;\r\n            content: \"\";\r\n            width: 2px;\r\n            height: 10px;\r\n            background-color: red;\r\n            top: 50%;\r\n            left: 50%;\r\n            transform: translate3d(-50%, -50%, 0);\r\n\r\n        }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/EditBlog.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('table',[_c('tr',[_vm._m(0),_c('td',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.title),expression:\"title\"}],attrs:{\"id\":\"title\",\"name\":\"title\",\"size\":\"30\",\"type\":\"text\"},domProps:{\"value\":(_vm.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.title=$event.target.value}}})])]),_vm._v(\" \"),_c('tr',[_vm._m(1),_c('td',[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.content),expression:\"content\"}],attrs:{\"cols\":\"80\",\"id\":\"content\",\"name\":\"content\",\"rows\":\"10\"},domProps:{\"value\":(_vm.content)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.content=$event.target.value}}})])]),_vm._v(\" \"),_c('tr',[_vm._m(2),_c('td',[(_vm.imageAddr)?_c('div',[_c('div',{staticClass:\"img-box\"},[_c('img',{staticClass:\"myimage\",attrs:{\"src\":_vm.imageAddr,\"alt\":\"logo\",\"onerror\":_vm.defaultImg}}),_vm._v(\" \"),_c('div',{staticClass:\"del-icon\",on:{\"click\":function($event){return _vm.deleteCurPhoto(_vm.index)}}})])]):_c('div',_vm._l((_vm.imageAddrs),function(item,index){return _c('span',{key:index},[_c('div',{staticClass:\"img-box\"},[_c('img',{staticClass:\"myimage\",attrs:{\"src\":item,\"alt\":\"\",\"onerror\":_vm.defaultImg}}),_vm._v(\" \"),_c('div',{staticClass:\"del-icon\",on:{\"click\":function($event){return _vm.deleteCurPhoto(index)}}})])])}),0)])]),_vm._v(\" \"),_c('tr',[_vm._m(3),_vm._v(\" \"),_c('td',[_c('el-radio',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"label\":1},model:{value:(_vm.form.radio),callback:function ($$v) {_vm.$set(_vm.form, \"radio\", $$v)},expression:\"form.radio\"}},[_vm._v(\"公开\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":0},model:{value:(_vm.form.radio),callback:function ($$v) {_vm.$set(_vm.form, \"radio\", $$v)},expression:\"form.radio\"}},[_vm._v(\"不公开\")])],1)]),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('tr',[_vm._m(4),_vm._v(\" \"),_c('td',[_c('span',{attrs:{\"align\":\"left\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":function($event){return _vm.openFile()}}},[_vm._v(\"选择文件\")]),_vm._v(\" \"),_c('input',{staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"id\":\"filename\",\"multiple\":\"multiple\"},on:{\"change\":_vm.showRealPath}})],1),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_vm._l((_vm.form.images1),function(item,index){return _c('span',{key:index},[_c('div',{staticClass:\"img-box\"},[_c('img',{staticClass:\"myimage\",attrs:{\"src\":item.image,\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"del-icon\",on:{\"click\":function($event){return _vm.deletePrePhoto(index)}}})])])})],2)]),_vm._v(\" \"),_c('tr',[_vm._m(5),_vm._v(\" \"),_c('td',[_c('br'),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"info\"},on:{\"click\":_vm.postCancel}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.postEntry}},[_vm._v(\"提 交\")])],1)])]),_vm._v(\" \"),_c('br'),_c('br')])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('th',[_c('label',{attrs:{\"for\":\"title\"}},[_vm._v(\"标题:\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('th',[_c('label',{attrs:{\"for\":\"content\"}},[_vm._v(\"内容:\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('th',[_c('label',{attrs:{\"for\":\"content\"}},[_vm._v(\"当前图片:\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('th',[_c('label',{attrs:{\"for\":\"content\"}},[_vm._v(\"是否公开:\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('th',[_c('label',{attrs:{\"for\":\"addOther\"}},[_vm._v(\"添加图片\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('th',[_c('label',{attrs:{\"for\":\"Post entry\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3793b0ce\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/EditBlog.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3793b0ce\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./EditBlog.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditBlog.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./EditBlog.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3793b0ce\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./EditBlog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/EditBlog.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}