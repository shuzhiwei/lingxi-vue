{"version":3,"sources":["webpack:///src/views/VipParser.vue","webpack:///./src/views/VipParser.vue?2829","webpack:///./src/views/VipParser.vue"],"names":["VipParser","inject","data","token","Object","cookie","username","input","mounted","this","$router","push","path","methods","sleep","time","endTime","Date","getTime","search","_this","base_url","indexOf","window","open","url","$store","state","params","mv_name","axios_default","a","post","lib_default","stringify","then","response","con","code","console","log","acs","reload","$message","error","search1","_this2","search2","views_VipParser","render","_vm","_h","$createElement","_c","_self","staticStyle","text-align","_v","attrs","for","width","placeholder","type","clearable","model","value","callback","$$v","expression","size","on","click","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/10.8bdf60a7844edf59aa48.js","sourcesContent":["<template>\r\n    <div style=\"text-align:center\">\r\n        </br>\r\n        Movie Search\r\n        </br>\r\n        </br>\r\n        <label for=\"transfomer\"></label>\r\n        <el-input\r\n            style=\"width:200px;\"\r\n            placeholder=\"请输入电影名或播放链接\"\r\n            v-model=\"input\"\r\n            type=\"text\"\r\n            clearable>\r\n        </el-input></br></br>\r\n        <el-button type=\"primary\" size=\"mini\" @click=\"search\">View</el-button>\r\n        <el-button type=\"primary\" size=\"mini\" @click=\"search1\">View1</el-button>\r\n        <el-button type=\"primary\" size=\"mini\" @click=\"search2\">View2</el-button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import axios from 'axios'\r\n    import qs from 'qs'\r\n    import {setCookie,getCookie} from '../../static/js/cookie.js'\r\n    import {refresh_token} from '../../static/js/acs.js'\r\n    export default {\r\n        inject: ['reload'],\r\n        \r\n        data () {\r\n            return {\r\n                token: getCookie('lingxi-token'),\r\n                username: getCookie('username'),\r\n                input: ''\r\n            }\r\n        },\r\n\r\n        mounted () {\r\n            if (!this.token) {\r\n                this.$router.push({path: '/login'})\r\n            }\r\n        },\r\n\r\n        methods: {\r\n            sleep (time) {\r\n                var timeStamp = new Date().getTime();\r\n                var endTime = timeStamp + time;\r\n                while(true){\r\n                    if (new Date().getTime() > endTime){\r\n                        return;\r\n                    } \r\n                }\r\n            },\r\n\r\n            search () {\r\n                const base_url = 'https://jx.618g.com/?url='\r\n                if (this.input.indexOf(\"http\") === 0) {\r\n                    window.open(base_url + this.input, '_blank')\r\n                }else{\r\n                    const url = this.$store.state.base_url + `/entertainment/searchVipMovieUrl`\r\n                    const params = {\r\n                            'token': this.token,\r\n                            'mv_name': this.input\r\n                        }\r\n                    axios.post(url, qs.stringify(params)).then(response => {\r\n                        const con = response.data\r\n                        const code = con.code\r\n\r\n                        if (code === 402) {\r\n                            console.log('token过期')\r\n                            refresh_token(this.username, this.token)\r\n                            this.reload()\r\n                            this.token = getCookie('lingxi-token')\r\n                            this.sleep(3000)\r\n                            this.search()\r\n                        }else if (code === 401) {\r\n                            this.$message.error('无acs权限！')\r\n                        }else if (code === 200) {\r\n                            if (con.url === '') {\r\n                                this.$message.error('请精确搜索关键字')\r\n                            }else{\r\n                                window.open(base_url + con.url, '_blank')\r\n                            }\r\n                        }else {\r\n                            this.$message.error('未搜索到')\r\n                        }\r\n                    })\r\n                }\r\n            },\r\n\r\n            search1 () {\r\n                const base_url = 'http://jx.0313555.com/?url='\r\n                if (this.input.indexOf(\"http\") === 0) {\r\n                    window.open(base_url + this.input, '_blank')\r\n                }else{\r\n                    const url = this.$store.state.base_url + `/entertainment/searchVipMovieUrl`\r\n                    const params = {\r\n                            'token': this.token,\r\n                            'mv_name': this.input\r\n                        }\r\n                    axios.post(url, qs.stringify(params)).then(response => {\r\n                        const con = response.data\r\n                        const code = con.code\r\n                        console.log(con)\r\n\r\n                        if (code === 402) {\r\n                            console.log('token过期')\r\n                            refresh_token(this.username, this.token)\r\n                            this.reload()\r\n                            this.token = getCookie('lingxi-token')\r\n                            this.sleep(3000)\r\n                            this.search()\r\n                        }else if (code === 401) {\r\n                            this.$message.error('无acs权限！')\r\n                        }else if (code === 200) {\r\n                            if (con.url === '') {\r\n                                this.$message.error('请精确搜索关键字')\r\n                            }else{\r\n                                window.open(base_url + con.url, '_blank')\r\n                            }\r\n                        }else {\r\n                            this.$message.error('未搜索到')\r\n                        }\r\n                    })\r\n                }\r\n            },\r\n            \r\n            search2 () {\r\n                const base_url = 'https://www.administratorw.com/index/qqvod.php?url='\r\n                if (this.input.indexOf(\"http\") === 0) {\r\n                    window.open(base_url + this.input, '_blank')\r\n                }\r\n            },\r\n        }\r\n\r\n    }\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/VipParser.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"text-align\":\"center\"}},[_c('br'),_vm._v(\"\\n    Movie Search\\n    \"),_c('br'),_vm._v(\" \"),_c('br'),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"transfomer\"}}),_vm._v(\" \"),_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"请输入电影名或播放链接\",\"type\":\"text\",\"clearable\":\"\"},model:{value:(_vm.input),callback:function ($$v) {_vm.input=$$v},expression:\"input\"}}),_c('br'),_c('br'),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.search}},[_vm._v(\"View\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.search1}},[_vm._v(\"View1\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.search2}},[_vm._v(\"View2\")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4a875ab7\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/VipParser.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4a875ab7\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./VipParser.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./VipParser.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./VipParser.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4a875ab7\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./VipParser.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/VipParser.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}